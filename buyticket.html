<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>buyticket</title>
<link rel="stylesheet" type="text/css" href="css/buyticket.css">
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
	<form method="get" action="" align="center">
		<h2>購買節目票劵</h2>
		<table>
			<tr>
				<td>節目名稱</td>
				<td>
					<input type="radio" name="programName" value="尋找星生命" checked onchange="changeTheaterName()">尋找星生命
					<input type="radio" name="programName" value="恐龍末日" onchange="changeTheaterName()">恐龍末日
				</td>
			</tr>
			<tr>
				<td>節目日期</td>
				<td>
					<input type="date" id="programDate" name="programdate" required onchange="changeDate()">
				</td>
			</tr>
			<tr>
				<td>場次</td>
				<td>
					<select id="programTime" onchange="changeEvent()">
						<option value="10:00">10:00</option>
						<option value="11:00">11:00</option>
						<option value="14:00">14:00</option>
						<option value="15:00">15:00</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>票價</td>
				<td>500元</td>
			</tr>
			<tr>
				<td>張數</td>
				<td>
					<!-- <input type="number" min="1" name="ticketNum" value="1"> -->
					<input style="width:30px" type="number" id="quantity" value="1" min="1" onchange="changeQuantity()" />
				</td>
			</tr>
			<tr>
				<td>總共金額</td>
				<td id="total">
					500
				</td>
			</tr>
		</table>
		<a href="Booking details.html">確認購買</a>
	</form>


	<script>
		//儲存到sessionStorage
		var storage = sessionStorage;

		// document.getElementById("quantity").onchange = function() {myFunction()};

		//改變節目名稱之後，直接存到sessionStorage 
		function changeTheaterName() {
			// document.querySelector('input[name="programName"]:checked').value;

			//儲存到sessionStorage
			var programName = document.querySelector('input[name="programName"]:checked').value;
			storage.setItem("programName", programName);
		}

		//改變日期之後，直接存到sessionStorage
		function changeDate() {
			// document.getElementById("programdate").value;

			//儲存到sessionStorage
			var programDate = document.getElementById("programDate").value;
			storage.setItem("programDate", programDate);

		}

		//改變場次之後，直接存到sessionStorage
		function changeEvent(e) {
			//抓取使用者選的值
			var e = document.getElementById("programTime");
			var programTime = e.options[e.selectedIndex].value;
			//儲存到sessionStorage
			// var storage = sessionStorage;
			storage.setItem("programTime", programTime);

		}

		//改變數量之後，直接存到sessionStorage 
		function changeQuantity() {
			//數量改變，改變總額
			quantity_value = Number(document.getElementById('quantity').value);
			total = quantity_value * 500;
			document.getElementById('total').innerHTML = total;

			//改變數量之後，直接存到sessionStorage 
			storage.setItem("theater_quantity", quantity_value);

			storage.setItem("theater_total", total);

			// var theater_quantity =document.getElementById("quantity").value;
			// storage.setItem("theater_quantity",theater_quantity);
		}
			
	</script>
</body>
</html>